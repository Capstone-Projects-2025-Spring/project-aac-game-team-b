Mar 17, 2025 6:56:15 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
Dev App Server is now running.

Mar 17, 2025 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Mar 17, 2025 6:58:26 PM com.google.cloud.datastore.core.routing.RoutingHeaderExtractor extractDatabaseResource
WARNING: Unable to extract the DatabaseRef from the lookup request with resource name projects/"storyquest-fcdc2",/databases/(default) [CONTEXT ratelimit_period="30 SECONDS" ]
java.lang.IllegalArgumentException: Invalid app id: "storyquest-fcdc2",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefHelper(FirestoreV1ResourceRefToRepConverter.java:169)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:161)
	at com.google.cloud.datastore.core.routing.RoutingHeaderExtractor.extractDatabaseResource(RoutingHeaderExtractor.java:84)
	at com.google.cloud.datastore.core.routing.EmulatorRoutingHeaderExtractor.extractDatabaseResource(EmulatorRoutingHeaderExtractor.java:9)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.databaseRefFromContext(CloudFirestoreV1Router.java:492)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.writeStream(CloudFirestoreV1Router.java:215)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler.<init>(FirestoreV1WebChannelAdapter.java:137)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.lambda$wrapper$2(FirestoreV1WebChannelAdapter.java:117)
	at io.grpc.Context.run(Context.java:536)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.wrapper(FirestoreV1WebChannelAdapter.java:113)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.doChannel(FirestoreV1WebChannelAdapter.java:70)
	at com.google.net.webchannel.server.v8.HttpServerHandlerImpl.publishNewChannel(HttpServerHandlerImpl.java:166)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:140)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

Mar 17, 2025 6:58:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Mar 17, 2025 6:58:28 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
Mar 17, 2025 6:58:28 PM com.google.net.webchannel.server.common.ChannelProcessor run
WARNING: Failed to consume the event.
java.lang.IllegalArgumentException: Invalid app id: dev~"storyquest-fcdc2",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertEntityRefHelper(FirestoreV1ResourceRefToRepConverter.java:240)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertEntityRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:224)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1EntityToRepConverter.convertEntity(FirestoreV1EntityToRepConverter.java:39)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1RequestToRepConverter.toMutation(FirestoreV1RequestToRepConverter.java:255)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1RequestToRepConverter.toMutations(FirestoreV1RequestToRepConverter.java:150)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toWrite(FirestoreEmulatorConverters.java:375)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toWrite(FirestoreEmulatorConverters.java:390)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1.write(CloudFirestoreV1.java:1065)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1WriteStream.handleRequest(CloudFirestoreV1WriteStream.java:218)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1WriteStream.write(CloudFirestoreV1WriteStream.java:140)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1WriteStream.onNext(CloudFirestoreV1WriteStream.java:95)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1WriteStream.onNext(CloudFirestoreV1WriteStream.java:27)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler.onMessage(FirestoreV1WebChannelAdapter.java:160)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreWriteHandler.onMessage(FirestoreV1WebChannelAdapter.java:130)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.onMessage(ChannelInternalImpl.java:525)
	at com.google.net.webchannel.server.v8.ForwardChannel.deliverMessage(ForwardChannel.java:114)
	at com.google.net.webchannel.server.v8.ForwardChannel.processPendingRequest(ForwardChannel.java:93)
	at com.google.net.webchannel.server.v8.ForwardChannel.consume(ForwardChannel.java:67)
	at com.google.net.webchannel.server.v8.ForwardChannel.add(ForwardChannel.java:60)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handleRequestBody(ChannelInternalImpl.java:290)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.processSessionRequest(ChannelInternalImpl.java:357)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:172)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

*** shutting down gRPC server since JVM is shutting down
*** server shut down
